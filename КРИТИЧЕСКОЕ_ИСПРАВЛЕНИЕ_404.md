# üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 404 –Ω–∞ Vercel

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 404:
- `GET /` ‚Üí 404
- `GET /favicon.ico` ‚Üí 404
- `GET /api/v1/*` ‚Üí 404

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Root Directory –≤ Vercel

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç: [https://vercel.com/sergeis-projects-78aa3a6d](https://vercel.com/sergeis-projects-78aa3a6d)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí General**
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Root Directory**:
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `server` ‚úÖ
   - –ï—Å–ª–∏ –ø—É—Å—Ç–æ –∏–ª–∏ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `server`

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Build Settings

–í **Settings ‚Üí General** –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- **Framework Preset:** `Other`
- **Build Command:** (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –∏–ª–∏ `npm run build`)
- **Output Directory:** (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
- **Install Command:** `npm install`

### 3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è Root Directory:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Deployments**
2. –ù–∞–∂–º–∏—Ç–µ **Redeploy** –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º deployment
3. –ò–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ –Ω–æ–≤—ã–π commit:

```bash
git add .
git commit -m "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel"
git push origin main
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏

–í **Deployments ‚Üí Latest ‚Üí Build Logs** –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ TypeScript
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –§–∞–π–ª `src/app.ts` –Ω–∞–π–¥–µ–Ω

### 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Ñ—É–Ω–∫—Ü–∏–π

–í **Deployments ‚Üí Latest ‚Üí View Function Logs** –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: Root Directory

–ï—Å–ª–∏ Root Directory –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ `server`, Vercel –∏—â–µ—Ç —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –∞ –Ω–µ –≤ –ø–∞–ø–∫–µ `server`.

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Root Directory = `server`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É

Vercel –¥–æ–ª–∂–µ–Ω –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª –ø–æ –ø—É—Ç–∏ `src/app.ts` –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ Root Directory.

–ï—Å–ª–∏ Root Directory = `server`, —Ç–æ –ø—É—Ç—å –±—É–¥–µ—Ç: `server/src/app.ts` ‚úÖ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç TypeScript, –Ω–æ –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ:
- `tsconfig.json` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [ ] Root Directory —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ `server` –≤ Vercel
- [ ] vercel.json –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] app.ts —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç Express app
- [ ] –ü—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω (Redeploy)
- [ ] –õ–æ–≥–∏ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã (–Ω–µ—Ç –æ—à–∏–±–æ–∫)
- [ ] –õ–æ–≥–∏ —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã (–Ω–µ—Ç –æ—à–∏–±–æ–∫)
- [ ] Health check —Ä–∞–±–æ—Ç–∞–µ—Ç: `curl https://marshrutka.fun`

---

## üö® –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–ø–∫—É api/

–°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è Vercel:

```
server/
  api/
    index.ts  (—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç app –∏–∑ src/app.ts)
```

–ò –æ–±–Ω–æ–≤–∏—Ç–µ vercel.json:
```json
{
  "builds": [
    {
      "src": "api/index.ts",
      "use": "@vercel/node"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "/api/index.ts"
    }
  ]
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JavaScript

–°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ TypeScript –≤ JavaScript –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.js` —Ñ–∞–π–ª—ã.

---

## üí° –ì–ª–∞–≤–Ω–æ–µ

**Root Directory –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ `server`!**

–ë–µ–∑ —ç—Ç–æ–≥–æ Vercel –Ω–µ –Ω–∞–π–¥–µ—Ç —Ñ–∞–π–ª—ã –∏ –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 404.

---

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Root Directory –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!**

