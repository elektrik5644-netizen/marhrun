# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ Vercel

## üîç –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- **https://marshrutka.fun** - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å JSON –æ—Ç–≤–µ—Ç:
  ```json
  {
    "status": "ok",
    "message": "Marshrutka API is running",
    "version": "1.0.0"
  }
  ```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ PowerShell

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ endpoint
Invoke-WebRequest -Uri "https://marshrutka.fun" -UseBasicParsing

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API routes
Invoke-WebRequest -Uri "https://marshrutka.fun/api/v1/routes" -UseBasicParsing
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS

```powershell
nslookup marshrutka.fun
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å IP –∞–¥—Ä–µ—Å (–æ–±—ã—á–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 76.76.x.x –∏–ª–∏ –¥—Ä—É–≥–æ–π IP Vercel).

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Vercel Dashboard

### 1. –°—Ç–∞—Ç—É—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ: [https://vercel.com/sergeis-projects-78aa3a6d](https://vercel.com/sergeis-projects-78aa3a6d)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Deployments**
3. –ü–æ—Å–ª–µ–¥–Ω–∏–π deployment –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å—Ç–∞—Ç—É—Å: ‚úÖ **Ready**

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Domains**
2. –î–æ–º–µ–Ω `marshrutka.fun` –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å—Ç–∞—Ç—É—Å: ‚úÖ **Valid**
3. –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å ‚è≥ **Pending** - –ø–æ–¥–æ–∂–¥–∏—Ç–µ –µ—â–µ –Ω–µ–º–Ω–æ–≥–æ

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

1. –í **Deployments** –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π deployment
2. –ù–∞–∂–º–∏—Ç–µ **View Function Logs**
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ (–∫—Ä–∞—Å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏)

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Environment Variables**
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã:
   - ‚úÖ `NODE_ENV=production`
   - ‚úÖ `JWT_SECRET=...` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
   - ‚úÖ `DATABASE_URL=...` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ë–î)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API endpoints

### Health Check

```powershell
Invoke-WebRequest -Uri "https://marshrutka.fun" -UseBasicParsing
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- Status Code: `200`
- Body: `{"status":"ok","message":"Marshrutka API is running","version":"1.0.0"}`

### API Routes

```powershell
Invoke-WebRequest -Uri "https://marshrutka.fun/api/v1/routes" -UseBasicParsing
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- Status Code: `200` –∏–ª–∏ `401` (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `500` (Internal Server Error)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://marshrutka.fun` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∑–µ–ª–µ–Ω—ã–π –∑–∞–º–æ—á–µ–∫** üîí (SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∞–∫—Ç–∏–≤–µ–Ω)
3. –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏

---

## üö® –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: –î–æ–º–µ–Ω –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç (Timeout)

**–ü—Ä–∏—á–∏–Ω—ã:**
1. DNS –µ—â–µ –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª—Å—è (–ø–æ–¥–æ–∂–¥–∏—Ç–µ –¥–æ 48 —á–∞—Å–æ–≤)
2. –î–æ–º–µ–Ω –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Vercel
3. –ü—Ä–æ–µ–∫—Ç –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS: `nslookup marshrutka.fun`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–æ–º–µ–Ω–∞ –≤ Vercel Dashboard
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –µ—Å—Ç—å —É—Å–ø–µ—à–Ω—ã–µ deployments

### –ü—Ä–æ–±–ª–µ–º–∞: 500 Internal Server Error

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ
2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard ‚Üí Deployments ‚Üí View Function Logs
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Environment Variables
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞

### –ü—Ä–æ–±–ª–µ–º–∞: 404 Not Found

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Root Directory (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `server`)
2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ routes –≤ `vercel.json`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Settings ‚Üí General ‚Üí Root Directory = `server`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `server/vercel.json`

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –î–æ–º–µ–Ω –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ CORS whitelist

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `server/src/app.ts` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `marshrutka.fun` –≤ origin

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] –î–æ–º–µ–Ω marshrutka.fun –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∞–∫—Ç–∏–≤–µ–Ω (–∑–µ–ª–µ–Ω—ã–π –∑–∞–º–æ—á–µ–∫)
- [ ] Health check –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"status":"ok",...}`
- [ ] API endpoints –æ—Ç–≤–µ—á–∞—é—Ç (–Ω–µ 500 –æ—à–∏–±–∫–∞)
- [ ] –í Vercel Dashboard —Å—Ç–∞—Ç—É—Å deployment: ‚úÖ Ready
- [ ] –í Vercel Dashboard —Å—Ç–∞—Ç—É—Å –¥–æ–º–µ–Ω–∞: ‚úÖ Valid
- [ ] –í –ª–æ–≥–∞—Ö –Ω–µ—Ç –æ—à–∏–±–æ–∫
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] Root Directory —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ `server`

---

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ PowerShell

```powershell
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
Write-Host "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS ===" -ForegroundColor Cyan
nslookup marshrutka.fun

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ endpoint
Write-Host "`n=== –ü—Ä–æ–≤–µ—Ä–∫–∞ Health Check ===" -ForegroundColor Cyan
try {
    $response = Invoke-WebRequest -Uri "https://marshrutka.fun" -UseBasicParsing -TimeoutSec 10
    Write-Host "‚úÖ Status: $($response.StatusCode)" -ForegroundColor Green
    Write-Host "Response: $($response.Content)" -ForegroundColor Green
} catch {
    Write-Host "‚ùå Error: $($_.Exception.Message)" -ForegroundColor Red
}

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ API
Write-Host "`n=== –ü—Ä–æ–≤–µ—Ä–∫–∞ API ===" -ForegroundColor Cyan
try {
    $response = Invoke-WebRequest -Uri "https://marshrutka.fun/api/v1/routes" -UseBasicParsing -TimeoutSec 10
    Write-Host "‚úÖ Status: $($response.StatusCode)" -ForegroundColor Green
} catch {
    $status = if ($_.Exception.Response) { $_.Exception.Response.StatusCode.value__ } else { "Unknown" }
    Write-Host "Status: $status" -ForegroundColor Yellow
    Write-Host "Message: $($_.Exception.Message)" -ForegroundColor Yellow
}

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL
Write-Host "`n=== –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL ===" -ForegroundColor Cyan
try {
    $response = Invoke-WebRequest -Uri "https://marshrutka.fun" -UseBasicParsing -TimeoutSec 10
    if ($response.BaseResponse.IsSecureProtocol) {
        Write-Host "‚úÖ SSL –∞–∫—Ç–∏–≤–µ–Ω" -ForegroundColor Green
    }
} catch {
    Write-Host "‚ùå SSL –ø—Ä–æ–±–ª–µ–º–∞: $($_.Exception.Message)" -ForegroundColor Red
}
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –≤ —Ñ–∞–π–ª `check-deployment.ps1` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```powershell
.\check-deployment.ps1
```

---

## üì± –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ API —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
2. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏/–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è**
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API**

–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ `api.config.ts` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL:
```typescript
BASE_URL: 'https://marshrutka.fun/api/v1'
```

---

**üéâ –ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!**

